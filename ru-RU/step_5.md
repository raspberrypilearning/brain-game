## Несколько игр

Теперь ты добавишь кнопку «Играть», чтобы игрок мог сыграть в игру несколько раз.

\--- task \---

Создай новый спрайт-кнопку «Играть», на которую игрок будет нажимать, чтобы начать новую игру.

Ты можешь нарисовать спрайт самостоятельно или отредактировать спрайт из библиотеки.

![Изображение кнопки Играть](images/brain-play.png)

\--- /task \---

\--- task \---

Добавь этот код к спрайту кнопки:

![Спрайт кнопки](images/button-sprite.png)

```blocks3
    когда щёлкнут по зелёному флагу
    показаться

    когда спрайт нажат
    спрятаться
    передать (Старт v)
```

\--- /task \---

Новый код включает в себя ещё один блок `передать`{:class="block3events"}, который отправляет сообщение 'Старт'.

Новый код делает так, чтобы спрайт кнопки «Играть» появлялся, когда игрок нажимает на флаг. Когда игрок нажимает на спрайт кнопки, спрайт скрывается, а затем передает сообщение, на которое могут реагировать другие спрайты.

В данный момент спрайт персонажа начинает задавать вопросы, когда игрок нажимает на флаг. Измени код игры, чтобы спрайт персонажа начал задавать вопросы, когда он получит `сообщение`{:class="block3events"} 'Старт'.

\--- task \---

Выбери спрайт персонажа и во вкладке код замени блок `когда флаг нажат`{:class="block3events"} на блок `когда я получу Старт`{:class = "block3events"}.

![Спрайт персонажа](images/giga-sprite.png)

```blocks3
<br />- когда щёлкнут по зелёному флагу
+ когда я получу [Старт v]
задать [число 1 v] значение (выдать случайное от (2) до (12))
задать [число 2 v] значение (выдать случайное от (2) до (12))
спросить (объединить (число 1) (объединить [ x ] (число 2))) и ждать
если <(ответ) = ((число 1) * (число 2))> , то 
  сказать [да! :)] (2) секунд
иначе 
  говорить [неа :(] (2) секунд
конец
```

\--- / задача \---

\--- task \---

Нажми на зелёный флажок, а затем на новую кнопку «Играть», чтобы проверить, работает ли она. Игра не должна запускаться, пока ты не нажмёшь на эту кнопку.

\--- /task \---

Видишь ли ты, что таймер запускается после нажатия на зеленый флажок, а не когда начинается игра?

![Таймер запущен](images/brain-timer-bug.png)

\--- task \---

Можешь ли ты изменить код таймера так, чтобы таймер запускался, когда игрок нажимал на кнопку?

\--- / задача \---

\--- задача \---

Добавь код к спрайту кнопки так, чтобы кнопка снова отображалась в конце каждой игры.

![Спрайт кнопки](images/button-sprite.png)

```blocks3
    когда я получу [конец v]
показаться
```

\--- /task \---

\--- task \---

Проверь кнопку «Играть», сыграв пару игр. Кнопка должна отображаться в конце каждой игры.

Чтобы проверить игру быстрее, можешь изменить значение переменной `время`{:class="block3variables"} так, чтобы каждая игра длилась всего несколько секунд.

![Сцена](images/stage-sprite.png)

```blocks3
    задать [время v] значение [10]
```

\--- /task \---

\--- task \---

Кнопка может немного меняться, когда на нее наводят указатель мыши.

![Кнопка](images/button-sprite.png)

```blocks3
    когда щёлкнут по зелёному флагу
показаться
повторять всегда 
  если <touching (mouse-pointer v)?>, то 
    установить эффект [рыбий глаз v] в (30)
  иначе 
    установить эффект [рыбий глаз v] в (0)
  end
end
```

![снимок экрана](images/brain-fisheye.png)

\--- /task \---