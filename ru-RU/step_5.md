## Несколько игр

Теперь ты добавишь кнопку «Играть», чтобы игрок мог сыграть в игру несколько раз.

--- task ---

Создай новый спрайт-кнопку «Играть», на которую игрок будет нажимать, чтобы начать новую игру.

Ты можешь нарисовать спрайт самостоятельно или отредактировать спрайт из библиотеки.

![Изображение кнопки Играть](images/brain-play.png)

--- /task ---

--- task ---

Добавь этот код к спрайту кнопки:

![Спрайт кнопки](images/button-sprite.png)

```blocks3
    when flag clicked
	  show

    when this sprite clicked
    hide
    broadcast (Старт v)
```

--- /task ---

Новый код включает в себя ещё один блок `передать`{:class="block3events"}, который отправляет сообщение 'Старт'.

Новый код делает так, чтобы спрайт кнопки «Играть» появлялся, когда игрок нажимает на флаг. Когда игрок нажимает на спрайт кнопки, спрайт скрывается, а затем передает сообщение, на которое могут реагировать другие спрайты.

В данный момент спрайт персонажа начинает задавать вопросы, когда игрок нажимает на флаг. Измени код игры, чтобы спрайт персонажа начал задавать вопросы, когда он получит `сообщение`{:class="block3events"} 'Старт'.

--- task ---

Выбери спрайт персонажа и во вкладке код замени блок `когда флаг нажат`{:class="block3events"} на блок `когда я получу Старт`{:class="block3events"}.

![Спрайт персонажа](images/giga-sprite.png)

```blocks3
- when flag clicked
+ when I receive [Старт v]
set [число 1 v] to (pick random (2) to (12))
set [число 2 v] to (pick random (2) to (12))
ask (join (число 1)(join [ x ] (число 2))) and wait
if <(answer) = ((число 1)*(число 2))> then
	say [да! :)] for (2) seconds
else
	say [нет :(] for (2) seconds
end
```

--- / задача ---

--- task ---

Нажми на зелёный флажок, а затем на новую кнопку «Играть», чтобы проверить, работает ли она. Игра не должна запускаться, пока ты не нажмёшь на эту кнопку.

--- /task ---

Видишь ли ты, что таймер запускается после нажатия на зеленый флажок, а не когда начинается игра?

![Таймер запущен](images/brain-timer-bug.png)

--- task ---

Можешь ли ты изменить код таймера так, чтобы таймер запускался, когда игрок нажимал на кнопку?

--- / задача ---

--- задача ---

Добавь код к спрайту кнопки так, чтобы кнопка снова отображалась в конце каждой игры.

![Спрайт кнопки](images/button-sprite.png)

```blocks3
    when I receive [конец v]
	  show
```

--- /task ---

--- task ---

Проверь кнопку «Играть», сыграв пару игр. Кнопка должна отображаться в конце каждой игры.

Чтобы проверить игру быстрее, можешь изменить значение переменной `время`{:class="block3variables"} так, чтобы каждая игра длилась всего несколько секунд.

![Сцена](images/stage-sprite.png)

```blocks3
    set [время v] to [10]
```

--- /task ---

--- task ---

Кнопка может немного меняться, когда на нее наводят указатель мыши.

![Кнопка](images/button-sprite.png)

```blocks3
    when flag clicked
	  show
	  forever
	  if <touching (mouse-pointer v)?> then
		  set [fisheye v] effect to (30)
	  else
		  set [fisheye v] effect to (0)
	  end
	  end
```

![снимок экрана](images/brain-fisheye.png)

--- /task ---